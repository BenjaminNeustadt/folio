<div class="form">
  <a>Welcome...</a>
  <%= flash[:notice] %>
  <div>
    <h3>Account Page</h3>
    <br>
  </div>
</div>
<p>Logged-in User:<a style="color:red" > <%= @current_user.username %></a></p>
<!-- Existing content -->

<p><b>Recent Users:</b>
  <% @users.each do |user| %>
    <p><a href="/users/<%= user.username %>"><%= user.username %></a></p>
  <% end %>
</p>

<br>
<br>

<form action='/map_page' method='get'>
    <input type="submit" value="Go to map page" />
</form>

<br>

<form action='/upload' method='post' enctype='multipart/form-data'>
  ADD NEW PHOTO: <input type='file' name='file'>
  CAPTION: <input type='text' name='caption'>
  <input class="button" type='submit'>
</form>


<div class="image-items">
  <p><b>Here are the images:</b></p>

  <% if @images.empty? %>
    <p>There are currently no images</p>
  <% else %>
    <div class="image-grid">
      <% @images.each do |image| %>
        <div class="image-item">
          <img src="<%= image.url %>" width="400" height="500">
          <p><%= image.caption %></p>
          <p><%= image.date_time %></p>
          <form action="/images/<%= image.id %>" method="post">
            <% if image.user_id == @user %>
              <input type="hidden" name="_method" value="delete">
              <input class="button" type="submit" value="Delete">
            <% end %>
          </form>
        </div>
      <% end %>
    </div>
  <% end %>
</div>

<style>
.image-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
}

.image-item {
  text-align: center;
}
</style>