<div class="form">
  <a>Welcome...</a>
  <%= flash[:notice] %>
  <div>
    <h3>Account Page</h3>
    <br>
  </div>
</div>
<p>Logged-in User:<a style="color:red" > <%= @current_user.username %></a></p>
<!-- Existing content -->

<p><b>Recent Users:</b>
  <% @users.each do |user| %>
    <p><a href="/users/<%= user.username %>"><%= user.username %></a></p>
  <% end %>
</p>

<br>
<br>

<form action='/map_page' method='get'>
    <input type="submit" value="Go to map page" />
</form>

<br>

<form action='/upload' method='post' enctype='multipart/form-data'>
  ADD NEW PHOTO: <input type='file' name='file'>
  CAPTION: <input type='text' name='caption'>
  <input class="button" type='submit'>
</form>


<div class="image-items">
  <p><b>Here are the images:</b></p>

  <div class="image-grid">

    <div class="image-item add-photo">
      <form action='/upload' method='post' enctype='multipart/form-data'>
        <label for="file-upload" class="add-photo-label">
          <div class="add-photo-icon">+</div>
          <div class="add-photo-text">Add Image</div>
        </label>
        <input id="file-upload" type='file' name='file'>
        <input class="button" type='submit' value="Add New Photo">
      </form>
    </div>

    <% if @images.empty? %>
      <p>There are currently no images</p>
    <% else %>
      <% @images.each do |image| %>
        <div class="image-item">
          <img src="<%= image.url %>" width="400" height="500">
          <p><%= image.caption %></p>
          <p><%= image.date_time %></p>
          <form action="/images/<%= image.id %>" method="post">
            <% if image.user_id == @user %>
              <input type="hidden" name="_method" value="delete">
              <input class="button" type="submit" value="Delete">
            <% end %>
          </form>
        </div>
      <% end %>
    <% end %>
  </div>
</div>



<style>
.image-item.add-photo {
  text-align: center;
  background-color: #f1f1f1;
  border: 2px dashed #ccc;
  width: 400px; /* Adjust the width to match the other images */
}

.add-photo-label {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

.add-photo-icon {
  font-size: 60px;
  line-height: 1;
  color: #aaa;
}

.add-photo-text {
  margin-top: 10px;
}

.add-photo input[type="file"] {
  display: none;
}

.add-photo .button {
  margin-top: 10px;
}

.image-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
}

.image-item {
  text-align: center;
}
</style>